{"version":3,"sources":["view/CanvasView.ts","sprites/Paddle.ts","setup.ts","sprites/Brick.ts","helpers.ts","index.ts"],"names":[],"mappings":";;AKAA;;AAGA;;AAEA;ADLA,AFAA,ACEA,AFCA,ADEA,IGHA,AFCA,ADEA,KGHA,CFCA,IDEA;AKGA,AFNA,AFCA,ADEA;AIJA,AFAA,ACCA,AFCA,ADEA,YGHA,AFCA,ADEA;AKcA,AFdE,AFGA,ADIA,WGPA,AFGA,ADIA,KGPA,CACU,AFEV,CACU,GDGV,CAAY,CCJZ,EAEU,EELV,EAEU,GHKV,EAA8B,ECJ9B,EAGU,EENV,EAGU,QAHV,AFGA,EECU,AFGA,QAJV,EAKE,CERF,EAKE,EFFF,EAKe,CERf,EAKe;ADRjB,ACIY,AFEV,ADKE,QCLF,CEFU,AHOH,ICLP,EDKE,CCLF,EDKgB,CGPN,CFEV,EEFU,IHOc,CAAC,KGPf,QHOM,CAAuB,UAAvB,CAAd;AGNQ,AHOR,SGPQ,AHOH,OAAL,GAAe,CGPP,GAAA,CHOY,MAAL,CAAY,GGPnB,OHOO,CAAuB,IAAvB,CAAf;AEXJ,ACKY,AFCA,ADMR,SGPQ,AFCA,ADMH,KCNG,GEDA,AFCA,GEDA,CHOR,CCNQ,EDMY,IGPZ,IHOoB,CAAC,aAAT,CAAuB,QAAvB,CAApB;AKXJ,AFKY,AFCA,ADMR,SGPQ,AFCA,ADMH,KAAL,GAAa,GGPL,AFCA,GEDA,AFCA,EDMa,CAAC,QGPd,AFCA,KDMK,CAAuB,QAAvB,CAAb;AKTJ,AHHA,ACDU,AFQE,ADMR,SGdM,AFQE,ADMH,IAAL,GAAY,GGdN,EFQE,CERW,EFQX,ADMY,CAAC,CGdE,KAAJ,EAAb,GFQE,EDMI,CAAuB,OAAvB,CAAZ;AKCJ,AFNI,AFAQ,ADMT,SGNM,AFAG,QAAA,EEAR,CFAQ,EEAU,MFAV,IEAR;AESJ,AFRI,AFTM,IIiBN,KFRK,AFTC,GIiBE,GAAG,KAAf,AFRI,AFTM,GESa,AFTmB,IAAI,KAAJ,EEStC,AFTM;AIkBV,AFRI,AHMF,EAAA,EKEE,KAAK,AFRA,GEQG,ALFV,CKEF,ALFE,IGNE,GAAgB,EHMlB,CAAA,KGNE,AHMF,GAAA,YAAA;AEdF,ACSI,AF2CF,SE3CO,AF2CP,WE3CE,AF2CF,GE3CqB,AF2CP,UAAC,CE3Cb,AF2CY,EAAiB;AIlCjC,AHjBA,ACSI,AF2CA,SInCK,AFRA,CF2CD,CAAC,CAAC,IAAF,GE3CJ,CEQJ,AFRoB,CEQC,AJmCF,EE3Cf,EEQJ,CFR0B,CEQW,IFRjC,CF2CI,IAA0B,CAAC,CAAC,GAAF,KAAU,WAAxC,EAAqD,KAAI,CAAC,QAAL,GAAgB,KAAhB;AIlCvD,AHjBF,ACSG,AF2CC,ADvCA,EKIF,EHjBI,CFaF,CKIE,CAAC,ALJH,GEbQ,ADoDJ,ADvCJ,CCuCK,CAAC,CCpD+B,EGiBvC,ALJO,CKIO,AJmCR,KCpDyC,ADoD9B,CCpD+B,AFa9C,MKIF,ALJc,IAAZ,CCuCI,ECpDiC,CAAuB,AFahD,CCuCmB,CAAC,ADvCpB,CCuCqB,GAAF,CDvCnB,ICuC6B,CCpDJ,AFazB,CEbhB,AFaI,EEXJ,CFWgB,KAAA,CAAZ,CCuCA,EAAuD,ADvC3C,EAAA,CAAE,ECuC6C,CAAC,MDvChD,CAAY,CAAZ,CCuC2C,CDvC5B,CAAf,CCuC4D,CDvC1C,ICuCyB,CDvCpB,MAAL,CAAY,KAA9B,EAAqC,KAAK,MAAL,CAAY,MAAjD,CAAZ;AKKF,AJmCC,ADvCA,EKID,CLNA,ECsCA,KIhCQ,GAAG,KAAX;AACD,AHhBM,ACSL,EAAA,EDTW,ICSX,CAAA,QDTwB,GAAG,EAAtB,CCSL,CAAI,KAAA,CAAA,SAAJ,EAAI,OAAJ,EAAS;AADT,AF4CA,ADvCA,EAAA,OCuCA,GDvCA,CAAA,SCuCA,ADvCA,CAAA,ECuCgB,UAAC,CAAD,EAAiB,ADvCjC,GAAA,UAAgB,aAAhB,EAAyD;AIZrD,ACiBN,AHjBO,ADoDH,ADxCF,IEZW,IFYX,CIZc,ACiBP,AFTP,CF4CM,CAAC,CAAC,CDxCR,CEZqB,EDoDf,ADxCN,CEZwB,EGiB1B,AHjBO,CGiBa,ALLlB,CIZI,AHoDa,GGpDS,ACiB5B,AFTE,EESkC,MJmC5B,IAA0B,CAAC,CAAC,GAAF,KAAU,WAAxC,EAAqD,KAAI,CAAC,QAAL,GAAgB,IAAhB;AGnDvD,ACiBA,AFTE,AF4CA,EInCF,IAAI,CAAC,EDjBE,CHoDD,CAAC,CAAC,CE5CC,EEST,CAAc,AJmCR,EE5CQ,GF4CG,CGpDJ,KCiBb,CDjBO,ADQL,CCRkB,IHoDd,IAA2B,CAAC,CGpDb,AHoDc,GGpDf,AHoDa,EGpDP,GHoDiB,IGpDvB,EAAe,CAAf,EAAgB,GHoDlC,EAAuD,KAAI,CAAC,SAAL,GAAiB,IAAjB;AGnDvD,ACiBF,AHlBK,ACSJ,AF4CA,EInCD,EHlBW,CCOF,AF2CT,GGjDQ,ECiBA,CDjBG,ECiBA,CDjBG,AFDO,GAAG,CECN,ACiBlB,CDjBmB,AFDd,KECS,CAAW,CAAC,CAAC,GAAG,CAAL,IAAU,iBAArB,CAAZ;AACA,ACiBH,QDjBS,GAAG,GAAG,CAAC,GAAG,GDKT,cCLP;AAEA,AFHG,ADCH,ADUA,IEXS,CFWT,EAAA,CIRM,CAAC,AHFF,CDUL,EIRU,EHFV,CDUK,EEXiB,ADCT,GCDY,AFWzB,CEXG,CDCH,IDUU,IAAV,IAAU,CIRgB,CJQhB,EIRmB,GJQnB,CIRuB,IJQvB,CAAV,GAAU,KAAA,CAAV,GAAU,EAAA,CAAE,CIRmC,eJQrC,CAAmB,IIRA,CAA7B,EJQU,EAA4B,YAAA;AIPtC,ACgBJ,AFdW,AFJP,ADS4C,GGL9C,KCFQ,CAAC,ACgBF,AJlBA,GGEK,CJOkC,IKShD,CACE,EJnBE,EIkBJ,CJlBuB,CIoBrB,ELX2D,CAAC,GKS9D,EAGE,ALZ2D,CAAb,CCT5C,CGE0B,GAAG,ACgBjC,EAGgB,EDnBqB,sBAAe,oBAAnB,CAA7B;AAEA,ACoBF,AHzBK,ACSL,AFPE,ADQ+D,EKejE,AFhBA,EDTW,CFUC,CKeR,ALfF,CKeG,CDpBC,ADIN,CAAA,AFPO,GIuBP,GDpBa,AFLS,GAAG,EEKP,CAAhB,AHHA,EGGmB,ADIrB,CDT+B,ACS3B,AFPkB,GCDpB,ECQE,CCJwB,ADIxB,CDRE,CAAC,CEIc,GHHnB,CCDA,CAAW,CAAC,ACQd,EAAI,IDRgB,CAAC,GCQrB,EDRc,ACQJ,GDRmB,aAAa,GAAG,CAAhC,IAAqC,UAAhD,IAA8D,aADjC,GAE7B,GAFG;AEOH,ACmBF,AJvBE,ADQD,EKeD,CLjBA,GKiBI,CAAC,EFjBL,AFNO,EGIL,MCmBF,AJvBE,CIuBc,EJvBE,IIuBlB,AFjBA,CCFE,CACK,EHLL,CGIA,EACQ,CACN,IAAI,YAAJ,CACE,kBADF,EAEE,mBAFF,EAGE;AAAE,ACeR,AHxBK,ACOH,AFNA,EIuBF,EHxBW,EESH,ACeJ,CDfK,ACeJ,EDfI,AHRF,CGQD,GDFG,GDPc,CGwBvB,AJvBE,CIuBc,AFjBF,CDPY,CDCR,IIuBlB,CHxBgC,ADC9B,CIkBY,CAOd,CHzBE,CCMA,GDNI,CAAC,KAAL,CAAW,CAAC,MAAM,CAAC,MAAP,GAAgB,aAAa,GAAG,CAAjC,IAAsC,UAAjD,IAA+D,aADjC,GAE9B,EAFG;AESM,ADDV,AFNC,ADQF,EAAA,GGJU,CCGC,CAAC,EAAA,AHPJ,GDQR,CAAA,KCRE,GAAkB,CDQpB,CAAA,GCRE,MDQF,GAAA,UAAU,KAAV,EAAuB;AIDjB,ACkBN,AHxBK,ADAH,ADQA,IERS,CEGP,CCsBD,CDlBG,CJCA,CCRC,GIyBE,CAAC,ALjBC,GERY,GAAG,CDAxB,CEGQ,AFHS,CCAd,EDAH,CIyBC,ALjBD,EIDiB,AHPM,ADQA,EKiBC,GJzBxB,ADQ4B,CChBf,CGeT,AHLJ,CGCE,ACsB4B,CAAC,CDjB3B,ECiBoB,CAAW,CAAX,GAAe,ALjBhB,CKiBvB,ALjByC,IKkBxC,KLlBsB,CKkBhB,CAAC,CDlBS,AJAoC,KAAK,CAAC,CIAvD,CALF,CADM,CADR,CAAA,CCyBC,ELlBoD,EKkB5B,ALlBF,MKkBQ,CAAC,GAAP,CAAW,CAAX,GAAe,IAAI,CAAC,MAAL,CAAY,KAAZ,GAAoB,MAAM,CAAC,KAFrE,EAGE;ADhBD,ACiBC,ALnBD,GIjBM,AJeP,CKqBE,CDjBC,EAnBI,CAAP,ECoCQ,CAAC,UAAP;ADhBH,ACiBE,AH5BI,ACEK,AFAR,GEAF,CDFW,ADET,QAAQ,CAAC,ICFa,GAAG,EAAtB,ODEH,CAA0B,SAA1B,EAAqC,KAAK,aAA1C;AEIF,AFHE,ADOF,EGJA,AHIA,ECPE,IEGF,CAAA,GFHU,ADOV,CCPW,ADOX,SAAA,CGJA,AHIA,CGJI,KAAA,AFHF,CEGE,AFHwB,CDO5B,GAAA,GCPE,EEGF,AFHqC,EEGjC,GFHsC,ADOjC,EGJT,EAAO,AHIP,EAAqB,KCPnB;AI2BF,AH7BK,ADGJ,ADOC,EKmBF,EH7BW,IFUL,CGLN,IHKW,IEVa,AFUtB,EAAe,CEVU,GG6BN,AH7BhB,CG6BiB,AFxBtB,AHKsB,IAAL,CAAU,OKmBL,ELnBL,GAAsB,IAAtB;AKmBW,AFvB1B,AHKD,GAFD,QKoB4B,EFvBnB,KAAK,CEuBsB,CAAC,IAAD,EAAO,AFvBzC,MEuBkC,EAAe,MAAf,CAAR;AAA8B,AH5BrD,ACMJ,AFDD,EAAA,CIuBqB,CAArB,AH5BW,CCIJ,GFCP,CAAA,OCLuB,GAAG,EAArB,EDKL,CAAI,MAAA,CAAA,SAAJ,EAAI,OAAJ,EAAS;AIwBV,AJzBC,ADQA,EAAA,UAAA,CAAA,QGRO,CHQP,CAAA,UAAA,GAAA,UAAW,KAAX,EAAgC;AEX3B,IAAM,KDIX,KCJqB,GAAG,CAAnB,MDIL;AI0BF,AF3BS,AFEL,GEFF,ME2BO,IJzBE,KIyBX,AJzBgB,CIyBG,IAAnB,EAAmC,IJzB/B;AI0BF,AH9BK,ACML,AFDC,ADMC,EGLF,EDNW,CDGF,GEGT,AHKM,CGLN,AHKO,IEXa,CFWlB,EEXqB,AFWT,EEXT,KCML,CAAI,KAAA,CAAA,SAAJ,EAAI,OAAJ,EAAS;AEyBT,ALlBE,EKkBF,GLlBE,EKkBG,ALlBH,EGPF,CEyBQ,ALlBN,CKkBF,ILlBO,MCVE,CDUP,EGPF,IHOc,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAY,EAAA,CAAE,SAAF,CACV,KAAK,CAAC,KADI,EAEV,KAAK,CAAC,GAAN,CAAU,CAFA,EAGV,KAAK,CAAC,GAAN,CAAU,CAHA,EAIV,KAAK,CAAC,KAJI,EAKV,KAAK,CAAC,MALI,CAAZ;AKmBF,AH/BK,ACMH,AHaD,EKYD,CLtBA,CETW,EG+BP,CAAC,MFzBI,EEyBT,AH/BsB,CG+BR,EAAd,AH/ByB,ACMX,GDNT,OCMH;AE0BF,AFzBC,AFLQ,EI8BT,CJ9BA,EEGS,CE2BL,CAAC,SAAL,CAAe,CAAf,EAJiC,CAKjC;AHhCK,ADKL,ADeA,ECfA,ADeA,EEpBW,IDKX,CAAA,GDeA,CAAA,EEpBsB,GAAG,GAApB,ACII,CHgBT,CCfA,ADeA,CCfI,MAAA,CAAA,EDeJ,GAAA,ICfA,EAAI,IDeO,ICfX,EAAU,ADeV,EAA0B;AKa1B,ALbA,MKaM,ELbN,CCfA,GI4BY,CLbZ,EKae,CLbf,IAAA,ICfA,mBI4BA,CANiC,CAOjC;AHhCK,ACEI,AFEP,GEFF,CDFW,SDIF,GCJc,EDIT,CCJuC,WDInD;AI6BF,AHhCA,ACKA,AFDC,ADcC,EGbF,EHaE,CElBC,ADEO,CI8BJ,EF3BN,CAAA,CHaQ,CAAC,CKcG,GAAG,GLdb,CKciB,ALdF,GEnBoC,CCMrD,CAAI,KAAA,AHaa,CGbb,GE2BW,CACb,ALfe,EAAK,GGbtB,EAAI,QAAJ,EAAU,EE2BK,EAEb,mBAFa,EAGb,oBAHa,EAIb;AACE,AHpCJ,AFiB0B,IKmBtB,CAAC,AHpCF,EGoCI,EFhCP,IHa0B,KAAI,CAAC,EChBrB,GCH2C,ACMrD,GE+BE,ELlBwB,CAAgB,KAAhB,CAAA;AKoBtB,AHpCJ,ACIE,AHY8C,IKoB5C,CAAC,AHpCF,AFgBD,EKoBK,IAAI,CAAC,CFhCH,KEgCF,AFhCO,CEgCK,MAAZ,AHvC8C,GGuCzB,CFhC1B,mBEgCK,GAAqC;AAF1C,AHjCF,ACIC,AFLS,ADiBT,GKac,AJ9Bf,ADeA,EKuBE,AHrCC,ACEO,eE2BK,CAAf,EHjCqD;AG4CrD,AHvCA,ADEA,EIqCA,AJrCA,GCFG,GDEH,CAAA,CIqCQ,CAAC,IAAD,EAAO,IFtCL,EEsCF,AJrCR,CAAI,CIqCmB,KJrCnB,CIqCI,AJrCJ,CIqCJ,QJrCA,EAAI,KAAJ,EAAO;AIsCR,AH7CsD,AFqBvD,CErBO,CG+CP,OJxCE,ADcF,UAAA,KCdE;AEDU,AFER,ADjCJ,CAAA,EG+BE,AH/BF,UCiCW,KAAK,QAAZ;ACAG,ACCP,AFAG,ICDU,CDDJ,IEET,KAAA,EDDyB,GAA8B;AGwCvD,AHvCE,ACrCF,CAAA,EAAA,CE4EM,CHvCD,CADkD,EGwC7C,GAAG,IAAI,MJzCR,gBIyCI,CAAe,YAAf,CAAb;AACA,AHvCE,IGuCE,CAAC,AHvCA,CAFkD,cGyCvD,CAAqB,SAArB;AHtCE,ADJO,GAAP,ECIG,CAHkD;AAIrD,ADDA,EAAA,GCCG,CAJkD,EDGrD,CAAA,cAAA,CAAI,MAAA,CAAA,SAAJ,EAAI,OAAJ,EAAS;ACET,KAAG,CALkD,CAKhD,EDFL,eAAA;AACE,aAAO,KAAK,WAAZ;ACJmD,ADKpD,CCLI,EAQP,EDLW;qBAAA;;ACMJ,ADNI,GAAT,CCMW,KAAK,GAAG,CACnB,CADmB,EAChB,CADgB,EACb,CADa,EACV,CADU,EACP,CADO,EACJ,CADI,EACD,CADC,EACE,CADF,EACK,CADL,EACQ,CADR,EAEnB,CAFmB,EAEhB,CAFgB,EAEb,CAFa,EAEV,CAFU,EAEP,CAFO,EAEJ,CAFI,EAED,CAFC,EAEE,CAFF,EAEK,CAFL,EAEQ,CAFR,EAGnB,CAHmB,EAGhB,CAHgB,EAGb,CAHa,EAGV,CAHU,EAGP,CAHO,EAGJ,CAHI,EAGD,CAHC,EAGE,CAHF,EAGK,CAHL,EAGQ,CAHR,EAInB,CAJmB,EAIhB,CAJgB,EAIb,CAJa,EAIV,CAJU,EAIP,CAJO,EAIJ,CAJI,EAID,CAJC,EAIE,CAJF,EAIK,CAJL,EAIQ,CAJR,EAKnB,CALmB,EAKhB,CALgB,EAKb,CALa,EAKV,CALU,EAKP,CALO,EAKJ,CALI,EAKD,CALC,EAKE,CALF,EAKK,CALL,EAKQ,CALR,EAMnB,CANmB,EAMhB,CANgB,EAMb,CANa,EAMV,CANU,EAMP,CANO,EAMJ,CANI,EAMD,CANC,EAME,CANF,EAMK,CANL,EAMQ,CANR,CAAd;ADFL,EAAA,MAAA,CAAA,cAAA,CAAI,MAAA,CAAA,SAAJ,EAAI,cAAJ,EAAgB;SAAhB,eAAA;AACE,aAAO,KAAK,QAAZ;AACD,KAFe;qBAAA;;AAAA,GAAhB;AAIA,EAAA,MAAA,CAAA,cAAA,CAAI,MAAA,CAAA,SAAJ,EAAI,eAAJ,EAAiB;SAAjB,eAAA;AACE,aAAO,KAAK,SAAZ;AACD,KAFgB;qBAAA;;AAAA,GAAjB;;AAIA,EAAA,MAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACE,QAAI,KAAK,QAAT,EAAmB,KAAK,GAAL,CAAS,CAAT,IAAc,KAAK,KAAnB;AACnB,QAAI,KAAK,SAAT,EAAoB,KAAK,GAAL,CAAS,CAAT,IAAc,KAAK,KAAnB;AACrB,GAHD;;AAcF,SAAA,MAAA;AAhEA,CAAA,EAAA","file":"src.77de5100.js","sourceRoot":"..\\src","sourcesContent":["// Types\r\nimport { Brick } from \"~/sprites/Brick\";\r\nimport { Paddle } from \"~/sprites/Paddle\";\r\nimport { Ball } from \"~/sprites/Ball\";\r\n\r\nexport class CanvasView {\r\n  canvas: HTMLCanvasElement;\r\n  private context: CanvasRenderingContext2D | null;\r\n  private scoreDisplay: HTMLObjectElement | null;\r\n  private start: HTMLObjectElement | null;\r\n  private info: HTMLObjectElement | null;\r\n\r\n  constructor(canvasName: string) {\r\n    this.canvas = document.querySelector(canvasName) as HTMLCanvasElement;\r\n    this.context = this.canvas.getContext('2d');\r\n    this.scoreDisplay = document.querySelector('#score');\r\n    this.start = document.querySelector('#start');\r\n    this.info = document.querySelector('#info');\r\n  }\r\n\r\n  clear(): void {\r\n    this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n\r\n  initStartButton(startFunction: (view: CanvasView) => void): void {\r\n    this.start?.addEventListener('click', () => startFunction(this));\r\n  }\r\n\r\n  drawScore(score: number): void {\r\n    if (this.scoreDisplay) this.scoreDisplay.innerHTML = score.toString();\r\n  }\r\n\r\n  drawInfo(text: string): void {\r\n    if (this.info) this.info.innerHTML = text;\r\n  }\r\n\r\n  drawSprite(brick: Brick | Paddle): void {\r\n    if (!brick) return;\r\n\r\n    this.context?.drawImage(\r\n      brick.image,\r\n      brick.pos.x,\r\n      brick.pos.y,\r\n      brick.width,\r\n      brick.height\r\n    );\r\n  }\r\n\r\n  drawBricks(bricks: Brick[]): void {\r\n    bricks.forEach(brick => this.drawSprite(brick));\r\n  }\r\n}","import { Vector } from \"../types\";\r\nimport { BRICK_HEIGHT } from '../setup';\r\n\r\nexport class Paddle {\r\n  private paddleImage: HTMLImageElement = new Image();\r\n  private moveLeft: boolean;\r\n  private moveRight: boolean;\r\n\r\n  constructor (\r\n    private speed: number,\r\n    private paddleWidth: number,\r\n    private paddleHeight: number,\r\n    private position: Vector,\r\n    image: string\r\n  ) {\r\n    this.speed = speed;\r\n    this.paddleWidth = paddleWidth;\r\n    this.paddleHeight = paddleHeight;\r\n    this.position = position;\r\n    this.moveLeft = false;\r\n    this. moveRight = false;\r\n    this.paddleImage.src = image;\r\n\r\n    // Event Listeners\r\n    document.addEventListener('keydown', this.handleKeyDown);\r\n    document.addEventListener('keyup', this.handleKeyUp);\r\n  }\r\n\r\n  // Getters\r\n  get width(): number {\r\n    return this.paddleWidth;\r\n  }\r\n\r\n  get height(): number {\r\n    return this.paddleHeight;\r\n  }\r\n\r\n  get pos(): Vector {\r\n    return this.position;\r\n  }\r\n\r\n  get image(): HTMLImageElement {\r\n    return this.paddleImage;\r\n  }\r\n\r\n  get isMovingLeft(): boolean {\r\n    return this.moveLeft;\r\n  }\r\n\r\n  get isMovingRight(): boolean {\r\n    return this.moveRight;\r\n  }\r\n\r\n  movePaddle(): void {\r\n    if (this.moveLeft) this.pos.x -= this.speed;\r\n    if (this.moveRight) this.pos.x += this.speed;\r\n  }\r\n\r\n  handleKeyUp = (e: KeyboardEvent): void => {\r\n    if (e.code === 'ArrowLeft' || e.key === 'ArrowLeft') this.moveLeft = false;\r\n    if (e.code === 'ArrowRight' || e.key === 'ArrowRight') this.moveRight = false;\r\n  };\r\n\r\n  handleKeyDown = (e: KeyboardEvent): void => {\r\n    if (e.code === 'ArrowLeft' || e.key === 'ArrowLeft') this.moveLeft = true;\r\n    if (e.code === 'ArrowRight' || e.key === 'ArrowRight') this.moveRight = true;\r\n  };\r\n}\r\n\r\n","import RED_BRICK_IMAGE from './images/brick-red.png';\nimport BLUE_BRICK_IMAGE from './images/brick-blue.png';\nimport GREEN_BRICK_IMAGE from './images/brick-green.png';\nimport YELLOW_BRICK_IMAGE from './images/brick-yellow.png';\nimport PURPLE_BRICK_IMAGE from './images/brick-purple.png';\n\n// Grab the canvas element for calculating the brick width\n// depending on canvas width\nconst canvas: HTMLCanvasElement | null = document.querySelector('#playField');\n\n// Constants\nexport const STAGE_PADDING = 10;\nexport const STAGE_ROWS = 20;\nexport const STAGE_COLS = 10;\nexport const BRICK_PADDING = 5;\nexport const BRICK_WIDTH = canvas\n  ? Math.floor((canvas.width - STAGE_PADDING * 2) / STAGE_COLS) - BRICK_PADDING\n  : 100;\nexport const BRICK_HEIGHT = canvas\n  ? Math.floor((canvas.height - STAGE_PADDING * 2) / STAGE_ROWS) - BRICK_PADDING\n  : 30;\nexport const PADDLE_WIDTH = 150;\nexport const PADDLE_HEIGHT = 25;\nexport const PADDLE_STARTX = 450;\nexport const PADDLE_SPEED = 10;\nexport const BALL_SPEED = 5;\nexport const BALL_SIZE = 20;\nexport const BALL_STARTX = 500;\nexport const BALL_STARTY = 400;\n\nexport const BRICK_IMAGES: { [key: number]: string } = {\n  1: RED_BRICK_IMAGE,\n  2: GREEN_BRICK_IMAGE,\n  3: YELLOW_BRICK_IMAGE,\n  4: BLUE_BRICK_IMAGE,\n  5: PURPLE_BRICK_IMAGE\n};\n\nexport const BRICK_ENERGY: { [key: number]: number } = {\n  1: 1, // Red brick\n  2: 1, // Green brick\n  3: 2, // Yellow brick\n  4: 2, // Blue brick\n  5: 3 // Purple brick\n};\n\n// prettier-ignore\nexport const LEVEL = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 1, 1, 1, 1, 1, 1, 0, 0,\n  0, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n  0, 3, 3, 3, 3, 3, 3, 3, 3, 0,\n  0, 0, 4, 4, 4, 4, 4, 4, 0, 0, \n  0, 0, 5, 5, 0, 0, 5, 5, 0, 0,\n];\n","import { Vector } from \"../types\";\r\n\r\nexport class Brick {\r\n  private brickImage = new Image();\r\n\r\n  constructor(\r\n    private brickWidth: number,\r\n    private brickHeight: number,\r\n    private position: Vector,\r\n    private brickEnergy: number,\r\n    image: string\r\n  ) {\r\n    this.brickWidth = brickWidth;\r\n    this.brickHeight = brickHeight;\r\n    this.position = position;\r\n    this.brickEnergy = brickEnergy;\r\n    this.brickImage.src = image;\r\n  }\r\n\r\n  // Getters\r\n  get width(): number {\r\n    return this.brickWidth;\r\n  }\r\n\r\n  get height(): number {\r\n    return this.brickHeight;\r\n  }\r\n\r\n  get pos(): Vector {\r\n    return this.position;\r\n  }\r\n\r\n  get image(): HTMLImageElement {\r\n    return this.brickImage;\r\n  }\r\n\r\n  get energy(): number {\r\n    return this.brickEnergy;\r\n  }\r\n} ","import { Brick } from './sprites/Brick';\r\nimport {\r\n  BRICK_IMAGES,\r\n  LEVEL,\r\n  STAGE_COLS,\r\n  STAGE_PADDING,\r\n  BRICK_WIDTH,\r\n  BRICK_HEIGHT,\r\n  BRICK_PADDING,\r\n  BRICK_ENERGY\r\n} from './setup';\r\n\r\nexport function createBricks(): Brick[] {\r\n  return LEVEL.reduce((ack, element, i) => {\r\n    const row = Math.floor((i + 1) / STAGE_COLS);\r\n    const col = i % STAGE_COLS;\r\n\r\n    const x = STAGE_PADDING + col * (BRICK_WIDTH + BRICK_PADDING);\r\n    const y = STAGE_PADDING + row * (BRICK_HEIGHT + BRICK_PADDING);\r\n\r\n    if (element === 0) return ack;\r\n\r\n    return [\r\n      ...ack,\r\n      new Brick(\r\n        BRICK_WIDTH,\r\n        BRICK_HEIGHT,\r\n        { x, y },\r\n        BRICK_ENERGY[element],\r\n        BRICK_IMAGES[element]\r\n      )\r\n    ];\r\n  }, [] as Brick[]);\r\n}","import { CanvasView } from \"./view/CanvasView\";\nimport { Ball } from \"./sprites/Ball\";\nimport { Brick } from \"./sprites/Brick\";\nimport { Paddle } from \"./sprites/Paddle\";\n// Images\nimport PADDLE_IMAGE from './images/paddle.png';\nimport BALL_IMAGE from './images/ball.png';\n// Level and colors\nimport {\n  PADDLE_SPEED,\n  PADDLE_WIDTH,\n  PADDLE_HEIGHT,\n  PADDLE_STARTX,\n  BALL_SPEED,\n  BALL_SIZE,\n  BALL_STARTX,\n  BALL_STARTY\n} from './setup';\n// Helpers\nimport { createBricks } from \"./helpers\";\n\nlet gameOver = false;\nlet score = 0;\n\nfunction setGameOver(view: CanvasView) {\n  view.drawInfo('Game Over!');\n  gameOver = false;\n}\n\nfunction setGameWin(view: CanvasView) {\n  view.drawInfo('Game Won!');\n  gameOver = false;\n}\n\nfunction gameLoop(\n  view: CanvasView,\n  bricks: Brick[],\n  paddle: Paddle,\n  // ball: Ball,\n) {\n  view.clear();\n  view.drawBricks(bricks);\n  view.drawSprite(paddle);\n\n  // Move paddle and check so it won't exit the playfield\n  if (\n    (paddle.isMovingLeft && paddle.pos.x > 0) || \n    (paddle.isMovingRight && paddle.pos.x < view.canvas.width - paddle.width)\n  ) {\n    paddle.movePaddle();\n  }\n\n  requestAnimationFrame(() => gameLoop(view, bricks, paddle));\n}\n\nfunction startGame(view: CanvasView) {\n  // Reset displys\n  score = 0;\n  view.drawInfo('');\n  view.drawScore(0);\n  // Create all bricks\n  const bricks = createBricks();\n  // Create a Paddle \n  const paddle = new Paddle(\n    PADDLE_SPEED,\n    PADDLE_WIDTH,\n    PADDLE_HEIGHT,\n    {\n      x: PADDLE_STARTX,\n      y: view.canvas.height - PADDLE_HEIGHT - 5\n    },\n    PADDLE_IMAGE\n  )\n\n  gameLoop(view, bricks, paddle);\n}\n\n// Create a new view\nconst view = new CanvasView('#playField');\nview.initStartButton(startGame);"]}